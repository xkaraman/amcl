<launch>
    <arg name="laser"	default="true"/>
    <arg name="depth"	default="false"/>
    <arg name="rgb"		default="false"/>
    <arg name="particles" default="300"/>

    <node name="amcl_node" pkg="amcl_lib_pf" type="amcl_lib_pf_node" output="screen"/>
    <param name="num_particles" type = "int" value="$(arg particles)"/>
    # Number of Particles to improve with Depth/RGB data sensor
    # More the better but costly(very)
    <param name="num_particles_rgb" type = "int" value="100"/> <!-- 45 for expirements-->

    <param name="use_laser"	type="bool" value="$(arg laser)"/>
    <param name="use_depth"	type="bool" value="$(arg depth)"/>
    <param name="use_rgb"	type="bool"	value="$(arg rgb)"/>

    <param name="threshold_translation" type = "double" value="0.2"/>
    <param name="threshold_rotation" type = "double" value="0.5"/>

    
    <param name="laser_min_range" type = "double" value="0.3"/>
    <param name="laser_max_range" type = "double" value="5"/>

    # Motion Model Parameters
    <param name="motion/xStdDev" type = "double" value=".06"/>
    <param name="motion/yStdDev" type = "double" value=".06"/>
    <param name="motion/yawStdDev" type = "double" value=".17"/>
    
    # Observation Model Parameters
    <!--param name="obs/maximum_icp_iterations" type = "int" value="50"/-->
    <!--param name="obs/transformation_epsilon" type = "double" value=".0001"/-->
    <!-- Keypoints: 1 = Sift3D, 2 = Curvature3D 3 = ISS3D -->
    <!--param name="obs/keypoint_type" type = "int" value="3"/-->
    <!-- Descriptors:  1 = FPFH, 2 = SHOTRGB, 3 = PFHRGB -->
    <!--param name="obs/descriptor_type" type = "int" value="1"/-->
    
    <param name="sensor_sample_distance" type = "double" value="0.2"/>
    <!-- best paired [downsample_voxel_size,octomap_leaf_depth]
                { [0.05,16], [0.1,15] ,[0.2,14] ,[0.4,13] } -->
    <param name="downsample_voxel_size" type = "double" value="0.3"/> # .3 so far is best
    <param name="obs/octomap_leaf_depth" type = "int" value="16"/>
    <param name="coherence/maximum_distance" type = "double" value="0.2"/> # .2 so far is best
    <param name="obs/alpha_normalization_factor" type="double" value="1.0"/>
    # Initial Position Standard Deviations from Given Point
    <param name="init/xStdDev" type = "double" value="0.2"/>
    <param name="init/yStdDev" type = "double" value="0.2"/>
    <param name="init/yawStdDev" type = "double" value="0.17"/>

    # Update Rviz Pose when an update occured
    <param name="publish_updated" type = "bool" value="true"/>
    <param name="transform_tolerance" type = "double" value="0.5"/>
</launch>
